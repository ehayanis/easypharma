CREATE TABLE ADDRESS (ID INTEGER NOT NULL, ADDRESS VARCHAR(255), CITY VARCHAR(255), COUNTRY VARCHAR(255), postal_code INTEGER, id_client INTEGER, PRIMARY KEY (ID))
CREATE TABLE ASSURANCE (ID INTEGER NOT NULL, ACCIDENT BOOLEAN, ADDRESS VARCHAR(255), AGENCE VARCHAR(255), AOS BOOLEAN, ASSURE INTEGER, card_validity DATE, cover_card VARCHAR(255), EAN VARCHAR(255), NAME VARCHAR(255), NPA VARCHAR(255), OFAS VARCHAR(255), PHONE VARCHAR(255), RCC VARCHAR(255), validation_date DATE, validation_number INTEGER, PRIMARY KEY (ID))
CREATE TABLE CLIENT (ID INTEGER NOT NULL, AGE INTEGER, AVS INTEGER, birth_date DATE, EMAIL VARCHAR(255), FAX VARCHAR(255), first_name VARCHAR(255), FIX VARCHAR(255), last_name VARCHAR(255), MPI INTEGER, PHONE VARCHAR(255), REFERENCE VARCHAR(255), SEXE BOOLEAN, PRIMARY KEY (ID))
CREATE TABLE MEDECIN (ID INTEGER NOT NULL, FAX VARCHAR(255), first_name VARCHAR(255), last_name VARCHAR(255), NC VARCHAR(255), NRCC VARCHAR(255), PHONE VARCHAR(255), REFERENCE VARCHAR(255), SPECIALITY VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE ORDONNANCE (ID INTEGER NOT NULL, end_date DATE, start_date DATE, id_assurance INTEGER, id_client INTEGER, id_medecin INTEGER, PRIMARY KEY (ID))
CREATE TABLE PRODUCT (ID INTEGER NOT NULL, DESIGNATION VARCHAR(255), PU FLOAT, QUANTITY INTEGER, REFERENCE VARCHAR(255), THRESHOLDALERT INTEGER, id_ordonnance INTEGER, PRIMARY KEY (ID))
CREATE TABLE client_assurance (assurances_ID INTEGER NOT NULL, clients_ID INTEGER NOT NULL, ASSURANCES_KEY INTEGER, PRIMARY KEY (assurances_ID, clients_ID))
ALTER TABLE ADDRESS ADD CONSTRAINT FK_ADDRESS_id_client FOREIGN KEY (id_client) REFERENCES CLIENT (ID)
ALTER TABLE ORDONNANCE ADD CONSTRAINT FK_ORDONNANCE_id_assurance FOREIGN KEY (id_assurance) REFERENCES ASSURANCE (ID)
ALTER TABLE ORDONNANCE ADD CONSTRAINT FK_ORDONNANCE_id_medecin FOREIGN KEY (id_medecin) REFERENCES MEDECIN (ID)
ALTER TABLE ORDONNANCE ADD CONSTRAINT FK_ORDONNANCE_id_client FOREIGN KEY (id_client) REFERENCES CLIENT (ID)
ALTER TABLE PRODUCT ADD CONSTRAINT FK_PRODUCT_id_ordonnance FOREIGN KEY (id_ordonnance) REFERENCES ORDONNANCE (ID)
ALTER TABLE client_assurance ADD CONSTRAINT FK_client_assurance_clients_ID FOREIGN KEY (clients_ID) REFERENCES CLIENT (ID)
ALTER TABLE client_assurance ADD CONSTRAINT FK_client_assurance_assurances_ID FOREIGN KEY (assurances_ID) REFERENCES ASSURANCE (ID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
